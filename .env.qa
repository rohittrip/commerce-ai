# ============================================================================
# QA ENVIRONMENT (GCP)
# ============================================================================
# This file contains configuration for the QA environment on GCP
# Replace placeholders with actual GCP service values

# ─────────────────────────────────────────────────────────────────────────────
# Environment
# ─────────────────────────────────────────────────────────────────────────────
NODE_ENV=qa
DEBUG_MODE=false

# ─────────────────────────────────────────────────────────────────────────────
# PostgreSQL Database (Cloud SQL)
# ─────────────────────────────────────────────────────────────────────────────
# Java Services (JDBC format)
JDBC_DATABASE_URL=jdbc:postgresql://${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
DATABASE_USER=${POSTGRES_USER}
DATABASE_PASSWORD=${POSTGRES_PASSWORD}

# Node.js Services
NODE_DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# Prisma ORM
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}?schema=public

# Cloud SQL Connection
# POSTGRES_HOST=<CLOUD_SQL_PRIVATE_IP>
# POSTGRES_PORT=5432
# POSTGRES_DB=commerce_ai_qa
# POSTGRES_USER=<service-account-or-user>
# POSTGRES_PASSWORD=<password>

# ─────────────────────────────────────────────────────────────────────────────
# MongoDB (MongoDB Atlas or Compute Engine)
# ─────────────────────────────────────────────────────────────────────────────
MONGODB_URI=mongodb://${MONGO_USER}:${MONGO_PASSWORD}@${MONGO_HOST}:${MONGO_PORT}/${MONGO_DB}?authSource=admin

# MongoDB Connection Details
# MONGO_HOST=<mongodb-host>
# MONGO_PORT=27017
# MONGO_DB=commerce_ai_qa
# MONGO_USER=<mongo-user>
# MONGO_PASSWORD=<mongo-password>

# ─────────────────────────────────────────────────────────────────────────────
# Redis (Memorystore or Compute Engine)
# ─────────────────────────────────────────────────────────────────────────────
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}

# If Redis requires authentication
# REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}

# Redis Connection Details
# REDIS_HOST=<redis-host>
# REDIS_PORT=6379
# REDIS_PASSWORD=<redis-password-if-required>

# ─────────────────────────────────────────────────────────────────────────────
# JWT Authentication
# ─────────────────────────────────────────────────────────────────────────────
JWT_SECRET=${JWT_SECRET}
JWT_EXPIRES_IN=7d

# ─────────────────────────────────────────────────────────────────────────────
# Server Ports (Cloud Run uses PORT env var)
# ─────────────────────────────────────────────────────────────────────────────
PORT=${PORT:-8080}
BFF_PORT=${PORT:-8080}
ORCHESTRATOR_PORT=${PORT:-8080}
TOOL_SERVER_PORT=${PORT:-8080}

# ─────────────────────────────────────────────────────────────────────────────
# Internal Service URLs (Cloud Run service URLs)
# ─────────────────────────────────────────────────────────────────────────────
MCP_TOOL_SERVER_URL=${TOOL_SERVER_URL}
ORCHESTRATOR_URL=${ORCHESTRATOR_SERVICE_URL}
BFF_URL=${BFF_SERVICE_URL}

# Cloud Run Service URLs (replace with actual URLs after deployment)
# TOOL_SERVER_URL=https://tool-server-qa-xxxxx-uc.a.run.app
# ORCHESTRATOR_SERVICE_URL=https://orchestrator-qa-xxxxx-uc.a.run.app
# BFF_SERVICE_URL=https://bff-qa-xxxxx-uc.a.run.app

# ─────────────────────────────────────────────────────────────────────────────
# LLM Provider API Keys (store in Secret Manager)
# ─────────────────────────────────────────────────────────────────────────────
OPENAI_API_KEY=${OPENAI_API_KEY}
ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
GOOGLE_API_KEY=${GOOGLE_API_KEY}

# ─────────────────────────────────────────────────────────────────────────────
# Frontend Configuration
# ─────────────────────────────────────────────────────────────────────────────
VITE_DEBUG_MODE=false
VITE_API_BASE_URL=${BFF_SERVICE_URL}
VITE_ORCHESTRATOR_URL=${ORCHESTRATOR_SERVICE_URL}

# ─────────────────────────────────────────────────────────────────────────────
# OTP Configuration
# ─────────────────────────────────────────────────────────────────────────────
OTP_EXPIRES_IN_SEC=120
OTP_RESEND_AVAILABLE_IN_SEC=30
ACCESS_TOKEN_EXPIRES_IN_SEC=3600
REFRESH_TOKEN_EXPIRES_IN_SEC=2592000
# Note: Remove DUMMY_OTP in QA to test real OTP flow
# DUMMY_OTP=1234

# ─────────────────────────────────────────────────────────────────────────────
# GCP Specific Configuration
# ─────────────────────────────────────────────────────────────────────────────
GCP_PROJECT_ID=${GCP_PROJECT_ID}
GCP_REGION=${GCP_REGION:-us-central1}

# ─────────────────────────────────────────────────────────────────────────────
# Logging & Monitoring
# ─────────────────────────────────────────────────────────────────────────────
LOG_LEVEL=info
ENABLE_CLOUD_LOGGING=true
